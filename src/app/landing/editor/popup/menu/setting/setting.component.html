<mo-wb-components-popup #popup
  [title]="'Quản lí menu'"
  [height]="height"
  [width]="widthPopup"
  [isShow]="isShow"
  [typeFooter]="'ADD-ITEM'"
  (onAdd)="handlerOnAddMenuItem($event);"
  (onClose)="handleOnClosePopup($event);">
  <div class="">

    <div class="mo-wb-mx-20px mo-wb-mb-20px">
      <div #targetPopup class="mo-wb-font-head-4s mo-wb-py-10px">{{'Menu nào được hiển thị' | translate}}:</div>
      <!-- DIV TEST <div>{{menus[0]?.name}}</div> -->


      <!-- <mo-wb-components-dropdown
      #dropdown
      [items]="menus"
      [selectedId]="menus[0]?.id"
      [selectedItem]="menus ? menus[0] : null"
      [defaultTitle]="'Chọn menu'"
      [hasButton]="true"
      [nameButton]="'Quản lí menu trang web'"
      (onSelectedItem)="onSelectMenu($event)"
      (onButtonClick)="onButtonDropdownClick($event, targetPopup)">
      </mo-wb-components-dropdown> -->

      <mo-wb-landing-editor-dropdown-menu-comp
      #dropdownMenus
        (showManagerMenu) = "onButtonDropdownClick($event, targetPopup)"
        (selectedMenu)="handlerOnSelectedMenu($event);"
      >
        
      </mo-wb-landing-editor-dropdown-menu-comp>


    </div>


    <div class="mo-wb-list-item-menu" [dragula]='"FIELD"'
    [(dragulaModel)]="itemsOfMenu" (dragulaModelChange)="handlerChangeDrag($event)">

        <div *ngFor="let item of itemsOfMenu, let i = index"
          class="mo-wb-item-menu mo-wb-mb-10px position-relative">
            <div (dblclick)="handlerDoubleClick($event, item)" class="d-flex mo-wb-h-42px align-items-center">
              <div class="mo-icn-drag_fields mo-wb-mr-10px"></div>
              <div class="mo-icn-Demo_sheet"></div>
              <div class="d-flex align-items-center">
                <div class="{{item.icon}} mo-wb-mr-10px">
                </div>
                <div class="mo-wb-font-head-4">{{item.name | translate}}</div>
                <div *ngIf="isRename && (item.id === selectedId)" class="position-absolute mo-wb-left-50px">
                  <mo-wb-components-input
                    #input
                    [width]="'150px'"
                    [value]="item.name"
                    [actionKey]="'ENTER'"
                    (onBlurInput)="onBlurInput($event)"
                    (onValueChanged)="handlerOnRenameChange()">
                  </mo-wb-components-input>
                </div>
              </div>
            </div>
            <div class="mo-wb-option position-absolute mo-wb-right-40px mo-wb-top-15px">
              <mo-wb-components-menu_dropdown [type]="'MENU-PAGE'"
                [width]="'180px'"
                [page]="item"
                [height]="'317px'"
                [listItem]="listSelectOption"
                [classInclude]="''"
                [classLabelInclude]="''"
                [classIconInclude]="''"
                (onSelectedItemChanged)="handleOnSelectMenuItem($event, item)">
              </mo-wb-components-menu_dropdown>
            </div>
        </div>
        
    </div>


    <!-- <div class="mo-wb-border-top-general mo-wb-mt-12px mo-wb-mb-20px"></div>

    <div class="position-relative">
      <mo-wb-components-button [type]="'text-blue'"
        [label]="'Thêm item'"
        [classInclude]="'mo-wb-mx-auto'"
        [classIconLeft]="'mo-icn-pvdemo_plus mo-wb-mr-8px'"
        (click)="handleAddItemMenu($event);">
      </mo-wb-components-button>
      <div *ngIf="isOpen"
        class="mo-wb-bg-ffffff mo-wb-px-24px mo-wb-shadow-popup mo-wb-border-radius-4px mo-wb-w-135px position-absolute mo-wb-top-20px mo-wb-left-150px">
        <div class="mo-wb-py-8px mo-wb-font-head-4 mo-wb-cursor-pointer"
          (click)="handlerAddItemSite($event)">Site Pages
        </div>
        <div class="mo-wb-py-8px mo-wb-font-head-4 mo-wb-cursor-pointer">Link</div>
        <div class="mo-wb-py-8px mo-wb-font-head-4 mo-wb-cursor-pointer"
          (click)="handlerAddItemSubmenu($event)">Submenu Title</div>
      </div>
    </div> -->

  </div>
</mo-wb-components-popup>